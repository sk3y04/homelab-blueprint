# ==========================================================================
# Prometheus Scrape Configuration
# ==========================================================================
# Defines which targets Prometheus polls for metrics.
#
# Targets use the Docker bridge gateway (172.17.0.1) to reach services
# that bind ports on the Docker host, matching the existing architecture
# where the VPS also accesses services via host-bound ports.
#
# To add a new exporter, append a job under scrape_configs.
# ==========================================================================

global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  # ── Prometheus itself ───────────────────────────────────────────────────
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]

  # ── Node Exporter (host metrics: CPU, RAM, disk, network) ──────────────
  - job_name: "node-exporter"
    static_configs:
      - targets: ["node-exporter:9100"]

  # ── Loki health (optional, verifies Loki is running) ───────────────────
  - job_name: "loki"
    static_configs:
      - targets: ["loki:3100"]
    metrics_path: /metrics
